<!DOCTYPE html>
<html lang="ba" class="no-js">
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="shortcut icon" href="/img/Logo.jpg">
	<meta name="author" content="">
	<meta name="description" content="">
	<meta name="keywords" content="">
	<meta charset="UTF-8">
	<title>Visit Travnik</title>
	<link rel="icon" href="img/j.jpg" type="image/jpg">
	<link href="https://fonts.googleapis.com/css?family=Poppins:100,200,400,300,500,600,700" rel="stylesheet">
	<!-- CSS============================================= -->
	<link rel="stylesheet" href="/css/linearicons.css">
	<link rel="stylesheet" href="/css/font-awesome.min.css">
	<link rel="stylesheet" href="/css/bootstrap.css">
	<link rel="stylesheet" href="/css/magnific-popup.css">
	<link rel="stylesheet" href="/css/nice-select.css">
	<link rel="stylesheet" href="/css/animate.min.css">
	<link rel="stylesheet" href="/css/owl.carousel.css">
	<link rel="stylesheet" href="/css/main.css">
</head>
<body>
<div class="portfolio-wrap">
	<header class="default-header">
		<nav class="navbar navbar-expand-lg  navbar-light">
			<div class="container">
				<a class="navbar-brand" href="index.html">
					<img src="img/Logo.png" alt="" height="70px" width="70px">
				</a>
				<div id="google_translate_element"></div>
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
					<span class="text-white lnr lnr-menu"></span>
				</button>
				<div class="collapse navbar-collapse justify-content-end align-items-center" id="navbarSupportedContent">
					<ul class="navbar-nav">
						<li><a href="#portfolio">Preferencije</a></li>
						<li><a href="/recenzije">Recenzije</a></li>
						<li><a href="#events-container">Događaji</a></li>
						<li><a href="Pages-inside/About.html">About Us</a></li>
					</ul>
				</div>
			</div>
		</nav>
	</header>
	<section class="banner-area relative" id="home">
		<div class="overlay overlay-bg"></div>
		<div class="container">
			<div class="row fullscreen d-flex align-items-center justify-content-center">
				<div class="banner-content col-lg-10">
					<h5 class="text-uppercase">Vezirski Grad</h5>
					<h1>Posjeti Travnik!</h1>
				</div>
			</div>
		</div>
	</section>
	<!-- Dodani JavaScript za Google Translate Element -->
	<script type="text/javascript">
		function googleTranslateElementInit() {
			new google.translate.TranslateElement({
				pageLanguage: 'hr',
				includedLanguages: 'en,ar,de',
				layout: google.translate.TranslateElement.InlineLayout.HORIZONTAL,
				autoDisplay: false
			}, 'google_translate_element');
		}
	</script>
	<script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</div>
<section class="portfolio-area section-gap" id="portfolio">
				  <div class="container">
						<div class="row d-flex justify-content-center">
							<div class="menu-content col-lg-10">
								<div class="title text-center">
									<h1 class="mb-10" style="color:black">Odaberite vaše preferncije:</h1>
									<p>Neki tekst nemam pojma</p>
								</div>
							</div>
						</div>
				    <div class="filters">
				      <ul>
				        <li class="active" data-filter="*">Sve</li>
				        <li  data-filter=".hrana">Hrana</li>
				        <li  data-filter=".pice">Piće</li>
				        <li  data-filter=".historija">Historija</li>
				        <li  data-filter=".priroda">Priroda</li>
						  <li  data-filter=".religija">Religija</li>
				      </ul>
				    </div>

				    <div class="filters-content">
				      <div class="row grid">
				        <div class="single-portfolio col-sm-4 all hrana">
				          <div class="item" onclick="toggleSelection(this)">
				            <img src="img/cevapi.jpg" alt="Work 1">
				            <div class="p-inner">
				              <h4>Ćevapi</h4>
				              <div class="cat">Hrana</div>
				            </div>
				          </div>
				        </div>
				        <div class="single-portfolio col-sm-4 all pice">
				          <div class="item" onclick="toggleSelection(this)">
				            <img src="img/sok_naranca.jpg" alt="Work 1">
				            <div class="p-inner">
				              <h4>Kafići</h4>
				              <div class="cat">Piće</div>
				            </div>
				          </div>
				        </div>
				        <div class="single-portfolio col-sm-4 all historija">
				          <div class="item" onclick="toggleSelection(this)">
				            <img src="img/stranica%20sika.jpg" alt="Work 1">
				            <div class="p-inner">
				              <h4>Ćiro</h4>
				              <div class="cat">Historija</div>
				            </div>
				          </div>
				        </div>
				        <div class="single-portfolio col-sm-4 all priroda">
				          <div class="item" onclick="toggleSelection(this)">
				            <img src="img/vlasic.jpg" alt="Work 1">
				            <div class="p-inner">
				              <h4>Vlašić</h4>
				              <div class="cat">Priroda</div>
				            </div>
				          </div>
				        </div>

				        <div class="single-portfolio col-sm-4 all hrana">
				          <div class="item" onclick="toggleSelection(this)">
				            <img src="img/hamburger.jpg" alt="Work 1">
				            <div class="p-inner">
				              <h4>Fast Food</h4>
				              <div class="cat">Hrana</div>
				            </div>
				          </div>
				        </div>
				        <div class="single-portfolio col-sm-4 all pice">
				          <div class="item" onclick = "toggleSelection(this)">
				            <img src="img/kahva.jpg" alt="Work 1">
				            <div class="p-inner">
				              <h4>Kafa</h4>
				              <div class="cat">Piće</div>
				            </div>
				          </div>
				        </div>
				        <div class="single-portfolio col-sm-4 all historija">
				          <div class="item" onclick="toggleSelection(this)">
				            <img src="img/stari_grad.jpg" alt="Work 1">
				            <div class="p-inner">
				              <h4>Stari Grad</h4>
				              <div class="cat">Historija</div>
				            </div>
				          </div>
				        </div>
				        <div class="single-portfolio col-sm-4 all priroda">
				          <div class="item" onclick="toggleSelection(this)">
				            <img src="img/plava_voda.jpg" alt="Work 1">
				            <div class="p-inner">
				              <h4>Plava Voda</h4>
				              <div class="cat">Priroda</div>
				            </div>
				          </div>
				        </div>		
				        <div class="single-portfolio col-sm-4 all hrana">
				          <div class="item" onclick="toggleSelection(this)">
				            <img src="img/tradicionalno.jpg" alt="Work 1">
				            <div class="p-inner">
				              <h4>Tradicionalna hrana</h4>
				              <div class="cat">Hrana</div>
				            </div>
				          </div>
				        </div>
				        <div class="single-portfolio col-sm-4 all hrana">
				          <div class="item" onclick="toggleSelection(this)">
				            <img src="img/restoran.jpg" alt="Work 1">
				            <div class="p-inner">
				              <h4>Restorani</h4>
				              <div class="cat">Hrana</div>
				            </div>
				          </div>
				        </div>
				        <div class="single-portfolio col-sm-4 all historija">
				          <div class="item" onclick="toggleSelection(this)">
				            <img src="img/Muzej_Travnik.jpg" alt="Work 1">
				            <div class="p-inner">
				              <h4>Muzej</h4>
				              <div class="cat">Historija</div>
				            </div>
				          </div>
				        </div>
				        <div class="single-portfolio col-sm-4 all priroda">
				          <div class="item" onclick="toggleSelection(this)">
				            <img src="img/park.jpg" alt="Work 1">
				            <div class="p-inner">
				              <h4>Parkovi</h4>
				              <div class="cat">Priroda</div>
				            </div>
				          </div>
				        </div>
						  <div class="single-portfolio col-sm-4 all religija">
							  <div class="item" onclick="toggleSelection(this)">
								  <img src="img/sarena_dzamija.jpg" alt="Work 1">
								  <div class="p-inner">
									  <h4>Džamije</h4>
									  <div class="cat">Religija</div>
								  </div>
							  </div>

						  </div>
						  <div class="single-portfolio col-sm-4 all religija">
							  <div class="item" onclick="toggleSelection(this)">
								  <img src="img/crkva.jpg" alt="Work 1">
								  <div class="p-inner">
									  <h4>Crkve</h4>
									  <div class="cat">Religija</div>
								  </div>
							  </div>

						  </div>
						  <div class="single-portfolio col-sm-4 all pice">
							  <div class="item" onclick="toggleSelection(this)">
								  <img src="img/disco.jpg" alt="Work 1">
								  <div class="p-inner">
									  <h4>Zabava</h4>
									  <div class="cat">Pice</div>
								  </div>
							  </div>
						  </div>

				  </div>
					</div>
				  </div>

						<div class="centered-button">
							<button class="button-59" role="button" onclick="submitSelections()">Traži</button>
						</div>
					<script>
						function toggleSelection(item) {
							item.classList.toggle("selected");
						}

						function submitSelections() {
							// Dohvat odabranih elemenata s klasom "selected"
							let selectedItems = document.querySelectorAll('.selected');
							let selectedPreferences = [];

							// Iteracija kroz odabrane elemente i dohvat vrijednosti
							selectedItems.forEach(item => {
								let h4Element = item.querySelector('h4');
								if (h4Element) {
									let preference = h4Element.textContent; // Ako postoji h4 element, dohvati tekst
									selectedPreferences.push(preference);
								}
							});

							if (selectedPreferences.length > 0) {
								// Kreiranje URL-a sa parametrima
								let queryParams = selectedPreferences.map(pref => `preference=${encodeURIComponent(pref)}`).join('&');
								// Preusmjeravanje na novu stranicu
								window.location.href = `/search-results?${queryParams}`;
							} else {
								alert("Please select at least one item before submitting");
							}
						}async function fetchNeodobreneRecenzije() {
							try {
								const response = await fetch('/neodobreneRecenzije');
								if (response.ok) {
									const neodobreneRecenzije = await response.json();
									displayNeodobreneRecenzije(neodobreneRecenzije);
								} else {
									console.error('Error fetching neodobrene recenzije:', response.status);
								}
							} catch (error) {
								console.error('Error fetching neodobrene recenzije:', error);
							}
						}

						function displayNeodobreneRecenzije(recenzije) {
							const neodobreneRecenzijeContainer = document.getElementById('neodobreneRecenzije');
							neodobreneRecenzijeContainer.innerHTML = '';

							recenzije.forEach(recenzija => {
								const recenzijaElement = document.createElement('div');
								recenzijaElement.innerHTML = `
          <p>ID: ${recenzija.id}</p>
          <p>Recenzija: ${recenzija.tekst}</p>
          <button class="btn-approve" data-id="${recenzija.id}" onclick="odobriRecenziju(${recenzija.id})">Odobri</button>
          <button class="btn-delete" data-id="${recenzija.id}" onclick="obrisiRecenziju(${recenzija.id})">Obriši</button>
          <hr>
        `;
								neodobreneRecenzijeContainer.appendChild(recenzijaElement);
							});
						}


						async function obrisiRecenziju(recenzijaId) {
							try {
								const response = await fetch(`/obrisi_recenziju/${recenzijaId}`, { method: 'DELETE' });
								if (response.ok) {
									console.log('Recenzija je obrisana.');
									// Osvježi prikaz recenzija ili ukloni HTML element za ovu recenziju
									fetchNeodobreneRecenzije();
								} else {
									console.error('Greška pri brisanju recenzije:', response.status);
								}
							} catch (error) {
								console.error('Greška pri brisanju recenzije:', error);
							}
						}

						async function odobriRecenziju(recenzijaId) {
							try {
								const response = await fetch(`/odobri_recenziju/${recenzijaId}`, { method: 'POST' });
								if (response.ok) {
									console.log('Recenzija je odobrena.');
									// Osvježi prikaz recenzija ili ukloni HTML element za ovu recenziju
									fetchNeodobreneRecenzije();
								} else {
									console.error('Greška pri odobravanju recenzije:', response.status);
								}
							} catch (error) {
								console.error('Greška pri odobravanju recenzije:', error);
							}
						}

						// Dohvati neodobrene recenzije prilikom učitavanja stranice
						fetchNeodobreneRecenzije();
						async function azurirajOcjeneBackend() {
							try {
								const response = await fetch('/azuriraj_ocjene', {method: 'POST'});
								if (response.ok) {
									console.log('Ocjene su uspješno ažurirane.');
								} else {
									console.error('Greška pri ažuriranju ocjena:', response.status);
								}
							} catch (error) {
								console.error('Greška pri ažuriranju ocjena:', error);
							}
						}
					</script>

				</section>

				<h3>Dolazeći događaji</h3>



				<section class="wrapper">
					<div class="container" id="events-container">

					</div>
				</section>
				<script>
					function fetchAndDisplayEvents() {
						fetch('/events')
								.then(response => response.json())
								.then(events => {
									const eventsContainer = document.getElementById('events-container');
									let currentRow;

									// ...
									events.forEach((event, index) => {
										if (index % 3 === 0) {
											currentRow = document.createElement('div');
											currentRow.className = 'row';
											eventsContainer.appendChild(currentRow);
										}

										const colDiv = document.createElement('div');
										colDiv.className = 'col-sm-12 col-md-6 col-lg-4 mb-4';

										const eventCard = document.createElement('div');
										eventCard.className = 'card text-dark card-has-bg click-col event-card';
										eventCard.style.backgroundImage = `url(${event.picture})`;

										const eventImage = document.createElement('img');
										eventImage.className = 'card-img d-none';
										eventImage.src = event.picture;
										eventImage.alt = 'Event Image';

										const eventOverlay = document.createElement('div');
										eventOverlay.className = 'card-img-overlay d-flex flex-column';

										const eventBody = document.createElement('div');
										eventBody.className = 'card-body';

										const eventMeta = document.createElement('small');
										eventMeta.className = 'card-meta mb-2';

										const eventName = document.createElement('h4');
										eventName.className = 'card-title mt-0';
										const eventLink = document.createElement('a');
										eventLink.className = 'text-dark';
										eventLink.href = event.url;
										eventLink.textContent = event.name;

										eventName.appendChild(eventLink);

										const eventDate = document.createElement('small');
										eventDate.innerHTML = `<i class="far fa-clock"></i> ${event.datum}`;

										eventBody.appendChild(eventMeta);
										eventBody.appendChild(eventName);
										eventBody.appendChild(eventDate);
										eventOverlay.appendChild(eventBody);


										const eventDescription = document.createElement('p');
										eventDescription.className ='event-description';
										eventDescription.textContent = event.opis;
										eventOverlay.appendChild(eventDescription);

										const cardFooter = document.createElement('div');
										cardFooter.className = 'card-footer';
										const media = document.createElement('div');
										media.className = 'media';
										const avatarImg = document.createElement('img');
										avatarImg.className = 'mr-3 rounded-circle';
										avatarImg.src = 'https://assets.codepen.io/460692/internal/avatars/users/default.png?format=auto&version=1688931977&width=80&height=80';
										avatarImg.alt = 'Generic placeholder image';
										avatarImg.style.maxWidth = '50px';
										const mediaBody = document.createElement('div');
										mediaBody.className = 'media-body';
										const mediaTitle = document.createElement('h6');
										mediaTitle.className = 'my-0 text-dark d-block';
										mediaTitle.textContent = 'Oz Coruhlu';
										const mediaSubtitle = document.createElement('small');
										mediaSubtitle.textContent = 'Director of UI/UX';

										mediaBody.appendChild(mediaTitle);
										mediaBody.appendChild(mediaSubtitle);
										media.appendChild(avatarImg);
										media.appendChild(mediaBody);
										cardFooter.appendChild(media);

										eventCard.appendChild(eventImage);
										eventCard.appendChild(eventOverlay);
										eventCard.appendChild(cardFooter);

										colDiv.appendChild(eventCard);
										currentRow.appendChild(colDiv);
									});

								})
								.catch(error => {
									console.error("Error fetching events: ", error);
								});
					}

					fetchAndDisplayEvents();


				</script>


				<footer class="footer-area section-gap">
					<div class="container">
						<div class="row">
							<div class="col-lg-5 col-md-6 col-sm-6">
								<div class="single-footer-widget">
									<h6>About Us</h6>
									<p>
										We provide tour plans for your most comfortable travel ever in Travnik. Let yourself dive into the beauty, culture, and festivals of this charming Bosnian city. Have a great time in Travnik!
									</p>
								</div>
							</div>
							<div class="col-lg-2 col-md-6 col-sm-6 social-widget">
								<div class="single-footer-widget">
									<h6>Follow Us</h6>
									<p>Let us be social</p>
									<div class="footer-social d-flex align-items-center">
										<a href="#"><i class="fa fa-facebook"></i></a>
										<a href="#"><i class="fa fa-twitter"></i></a>
										<a href="#"><i class="fa fa-snapchat"></i></a>
										<a href="#"><i class="fa fa-instagram"></i></a>
									</div>
								</div>
							</div>							
						</div>
					</div>
				</footer>
			</div>
			<script src="js/vendor/jquery-2.2.4.min.js"></script>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
			<script src="js/vendor/bootstrap.min.js"></script>
  			<script src="js/easing.min.js"></script>
			<script src="js/jquery.ajaxchimp.min.js"></script>
			<script src="js/jquery.magnific-popup.min.js"></script>
			<script src="js/owl.carousel.min.js"></script>
			<script src="js/jquery.sticky.js"></script>
			<script src="js/jquery.nice-select.min.js"></script>
			<script src="js/parallax.min.js"></script>
			<script src="js/mail-script.js"></script>
			<script src="js/isotope.pkgd.min.js"></script>
			<script src="js/main.js"></script>
		</body>
	</html>



